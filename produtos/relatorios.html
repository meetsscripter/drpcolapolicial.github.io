<script>
    // Função para carregar e exibir os usuários e suas contagens de relatórios
    function loadUserReports() {
        const userListDiv = document.getElementById('userList');
        userListDiv.innerHTML = ''; // Limpa a lista existente
        let foundUser = false; // Variável para verificar se encontrou algum usuário com mais de 1 relatório

        // Percorre todas as chaves no localStorage
        for (let i = 0; i < localStorage.length; i++) {
            const key = localStorage.key(i);

            // Verifique se a chave começa com 'reportCount_'
            if (key.startsWith('reportCount_')) {
                const username = key.replace('reportCount_', ''); // Extrai o nome de usuário da chave
                const count = parseInt(localStorage.getItem(key), 10); // Obtém a contagem de relatórios e a converte para número

                // Verifica se o valor convertido é um número e maior ou igual a 1
                if (!isNaN(count) && count >= 1) {
                    console.log(`Usuário: ${username}, Relatórios: ${count}`); // Adiciona log para depuração
                    foundUser = true; // Encontrou um usuário válido

                    // Cria um elemento para exibir o usuário e a contagem
                    const userDiv = document.createElement('div');
                    userDiv.className = 'user';
                    userDiv.innerHTML = `<span class="username">${username}</span> <span>${count} relatórios</span>`;
                    userListDiv.appendChild(userDiv); // Adiciona à lista
                }
            }
        }

        // Se não encontrar usuários, exibe uma mensagem
        if (!foundUser) {
            userListDiv.innerHTML = '<p>Nenhum usuário com mais de 1 relatório encontrado.</p>';
        }
    }

    // Adicione alguns exemplos ao carregar a página (apenas para teste)
    localStorage.setItem('reportCount_user1', 2); // Exemplo: 2 relatórios para user1
    localStorage.setItem('reportCount_user2', 5); // Exemplo: 5 relatórios para user2

    // Chama a função ao carregar a página
    loadUserReports();
</script>
