<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formul√°rio de Relat√≥rio</title>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        a {
            text-decoration: none;
            color: white;
            background-color: #007bff;
            padding: 10px 20px;
            border-radius: 5px;
            font-weight: bold;
            transition: background-color 0.3s ease;
            box-shadow: 0 0 10px rgba(0, 123, 255, 0.5);
        }

        a:hover {
            background-color: #0056b3;
        }

        .container {
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 600px;
            overflow-y: auto;
            max-height: 80vh;
        }

        h2 {
            text-align: center;
            color: #333;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
        }

        input[type="text"], input[type="number"], select, input[type="file"], input[type="password"] {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }

        button {
            width: 100%;
            padding: 15px;
            border: none;
            background-color: #007bff;
            color: white;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
        }

        button:hover {
            background-color: #0056b3;
        }

        .success-message {
            text-align: center;
            color: green;
            font-weight: bold;
        }

        .error-message {
            text-align: center;
            color: red;
            font-weight: bold;
        }

        .material-quantity {
            display: none;
        }

        .back-button {
            position: absolute;
            top: 10px;
            right: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>Formul√°rio de Relat√≥rio</h2>
        
        <!-- Bot√£o Voltar -->
        <a href="../index.html" class="back-button">Voltar para a p√°gina inicial</a>
        
        <!-- Formul√°rio de Login -->
        <div id="loginForm">
            <label for="login">Login</label>
            <input type="text" id="login" required>
            <button id="loginButton">Entrar</button>
            <p class="error-message" id="loginErrorMessage" style="display:none;">Login inv√°lido.</p>
        </div>
        <!-- Formul√°rio de Relat√≥rio -->
        <form id="reportForm" style="display:none;">
            <label for="qra">QRA integrantes</label>
            <input type="text" id="qra" name="qra" required>

            <label for="rg">RG do detido</label>
            <input type="text" id="rg" name="rg" required>

            <label for="detidoName">Nome do detido</label>
            <input type="text" id="detidoName" name="detidoName" required>

            <label for="localizacao">Localiza√ß√£o</label>
            <select id="localizacao" name="localizacao" required>
                <option value="">Selecione a localiza√ß√£o</option>
                <option value="Los Santos">Los Santos</option>
                <option value="San Fierro">San Fierro</option>
                <option value="Las Venturas">Las Venturas</option>
                <option value="Bone County">Bone County</option>
                <option value="Red County">Red County</option>
                <option value="Flinty County">Flinty County</option>
                <option value="Whetstone County">Whetstone County</option>
            </select>

            <!-- Campo de Refer√™ncias que s√≥ aparecer√° ap√≥s selecionar a localiza√ß√£o -->
            <label for="referencia" id="referenciaLabel" style="display:none;">Refer√™ncia</label>
            <select id="referencia" name="referencia" style="display:none;" required>
                <!-- As op√ß√µes ser√£o carregadas dinamicamente -->
            </select>

            <label for="materiais">Materiais apreendidos</label>
            <div id="materiais">
                <label>
                    <input type="checkbox" name="item" value="Produto Quimico" class="material-checkbox">
                    Produto Qu√≠mico
                </label>
                <input type="number" class="material-quantity" id="produto_quimico" name="produtoQuimicoQtd" placeholder="Quantidade">

                <label>
                    <input type="checkbox" name="item" value="Adubo" class="material-checkbox">
                    Adubo
                </label>
                <input type="number" class="material-quantity" id="adubo" name="aduboQtd" placeholder="Quantidade">
            
                <label>
                    <input type="checkbox" name="item" value="Cannabis" class="material-checkbox">
                    Cannabis
                </label>
                <input type="number" class="material-quantity" id="cannabis" name="cannabisQtd" placeholder="Quantidade">
            
                <label>
                    <input type="checkbox" name="item" value="Folha de coca" class="material-checkbox">
                    Folha de coca
                </label>
                <input type="number" class="material-quantity" id="folha_de_coca" name="folhaCocaQtd" placeholder="Quantidade">
            
                <label>
                    <input type="checkbox" name="item" value="Kevlar" class="material-checkbox">
                    Kevlar
                </label>
                <input type="number" class="material-quantity" id="kevlar" name="kevlarQtd" placeholder="Quantidade">
            
                <label>
                    <input type="checkbox" name="item" value="5.56" class="material-checkbox">
                    5.56
                </label>
                <input type="number" class="material-quantity" id="5.56" name="cincoCincoSeisQtd" placeholder="Quantidade">
            
                <label>
                    <input type="checkbox" name="item" value="7.62" class="material-checkbox">
                    7.62
                </label>
                <input type="number" class="material-quantity" id="7.62" name="seteSeisDoisQtd" placeholder="Quantidade">
            
                <label>
                    <input type="checkbox" name="item" value="9mm" class="material-checkbox">
                    9mm
                </label>
                <input type="number" class="material-quantity" id="9mm" name="noveMilimetrosQtd" placeholder="Quantidade">
            
                <label>
                    <input type="checkbox" name="item" value="12" class="material-checkbox">
                    12
                </label>
                <input type="number" class="material-quantity" id="12" name="dozeQtd" placeholder="Quantidade">
            
                <label>
                    <input type="checkbox" name="item" value=".45" class="material-checkbox">
                    .45
                </label>
                <input type="number" class="material-quantity" id=".45" name="quarentaCincoQtd" placeholder="Quantidade">
            
                <label>
                    <input type="checkbox" name="item" value="Algemas" class="material-checkbox">
                    Algemas
                </label>
                <input type="number" class="material-quantity" id="algemas" name="algemasQtd" placeholder="Quantidade">
            
                <label>
                    <input type="checkbox" name="item" value="Lixadeira" class="material-checkbox">
                    Lixadeira
                </label>
                <input type="number" class="material-quantity" id="lixadeira" name="lixadeiraQtd" placeholder="Quantidade">
            
                <label>
                    <input type="checkbox" name="item" value="Dinheiro Sujo" class="material-checkbox">
                    Dinheiro sujo
                </label>
                <input type="number" class="material-quantity" id="dinheiro_sujo" name="sujoQtd" placeholder="Quantidade">
            
                <label>
                    <input type="checkbox" name="item" value="radio" class="material-checkbox">
                    R√°dio
                </label>
                <input type="number" class="material-quantity" id="radio" name="radioQtd" placeholder="Quantidade">
            
                <label>
                    <input type="checkbox" name="item" value="Colete" class="material-checkbox">
                    Colete
                </label>
                <input type="number" class="material-quantity" id="colete" name="coleteQtd" placeholder="Quantidade">
            
                <label>
                    <input type="checkbox" name="item" value="Bilhete de Corrida" class="material-checkbox">
                    Bilhete de corrida
                </label>
                <input type="number" class="material-quantity" id="bilhete_de_corrida" name="bilheteCorridaQtd" placeholder="Quantidade">
            
                <label>
                    <input type="checkbox" name="item" value="Pendrive com informa√ß√µes sigilosas" class="material-checkbox">
                    Pendrive com informa√ß√µes sigilosas
                </label>
                <input type="number" class="material-quantity" id="pendrive_com_informa√ß√µes_sigilosas" name="pendriveInformacoesQtd" placeholder="Quantidade">
            
                <label>
                    <input type="checkbox" name="item" value="Token de joalheria" class="material-checkbox">
                    Token de Joalheria
                </label>
                <input type="number" class="material-quantity" id="token_de_joalheria" name="tokenJoalheriaQtd" placeholder="Quantidade">
                <label>
                    <input type="checkbox" name="item" value="Token de lojinha" class="material-checkbox">
                    Token de Lojinha
                </label>
                <input type="number" class="material-quantity" id="token_de_lojinha" name="tokenJoalheriaQtd" placeholder="Quantidade">
            
                <label>
                    <input type="checkbox" name="item" value="Cocaina" class="material-checkbox">
                    Coca√≠na
                </label>
                <input type="number" class="material-quantity" id="cocaina" name="cocainaQtd" placeholder="Quantidade">

                <label>
                    <input type="checkbox" name="item" value="Peca de arma" class="material-checkbox">
                    Pe√ßa de arma
                </label>
                <input type="number" class="material-quantity" id="peca_de_arma" name="pecaArmaQtd" placeholder="Quantidade">
            
                <label>
                    <input type="checkbox" name="item" value="Maconha" class="material-checkbox">
                    Maconha
                </label>
                <input type="number" class="material-quantity" id="maconha" name="maconhaQtd" placeholder="Quantidade">
            
                <label>
                    <input type="checkbox" name="item" value="Laser" class="material-checkbox">
                    Laser
                </label>
                <input type="number" class="material-quantity" id="laser" name="laserQtd" placeholder="Quantidade">
            
                <label>
                    <input type="checkbox" name="item" value="C4" class="material-checkbox">
                    C4
                </label>
                <input type="number" class="material-quantity" id="c4" name="c4Qtd" placeholder="Quantidade">
            
                <label>
                    <input type="checkbox" name="item" value="Dinamite" class="material-checkbox">
                    Dinamite
                </label>
                <input type="number" class="material-quantity" id="dinamite" name="dinamiteQtd" placeholder="Quantidade">
            
                <label>
                    <input type="checkbox" name="item" value="Faca" class="material-checkbox">
                    Faca
                </label>
                <input type="number" class="material-quantity" id="faca" name="facaQtd" placeholder="Quantidade">
            
                <label>
                    <input type="checkbox" name="item" value="Pecas de carro" class="material-checkbox">
                    Pe√ßas de carro
                </label>
                <input type="number" class="material-quantity" id="pecas_de_carro" name="pecasCarroQtd" placeholder="Quantidade">
            
                <label>
                    <input type="checkbox" name="item" value="357 Magnum" class="material-checkbox">
                    357 Magnum
                </label>
                <input type="number" class="material-quantity" id="357_magnum" name="357_magnumQtd" placeholder="Quantidade">
            
                <label>
                    <input type="checkbox" name="item" value="Pneu blindado" class="material-checkbox">
                    Pneu Blindado
                </label>
                <input type="number" class="material-quantity" id="pneu_blindado" name="PneublindadoQtd" placeholder="Quantidade">

                <label>
                    <input type="checkbox" name="item" value="USP" class="material-checkbox">
                    USP
                </label>
                <input type="number" class="material-quantity" id="usp" name="uspQtd" placeholder="Quantidade">
                <label>
                    <input type="checkbox" name="item" value="Revolver" class="material-checkbox">
                    Revolver
                </label>
                <input type="number" class="material-quantity" id="revolver" name="revolverQtd" placeholder="Quantidade">
                <label>
                    <input type="checkbox" name="item" value="Sig sauer" class="material-checkbox">
                    Sig Sauer
                </label>
                <input type="number" class="material-quantity" id="sig_sauer" name="sigsauerQtd" placeholder="Quantidade">
                <label>
                    <input type="checkbox" name="item" value="Glock" class="material-checkbox">
                    Glock
                </label>
                <input type="number" class="material-quantity" id="glock" name="glockQtd" placeholder="Quantidade">
                <label>
                    <input type="checkbox" name="item" value="Five seven" class="material-checkbox">
                    Five Seven
                </label>
                <input type="number" class="material-quantity" id="five_seven" name="fivesevenQtd" placeholder="Quantidade">
                <label>
                    <input type="checkbox" name="item" value="Desert eagle" class="material-checkbox">
                    Desert Eagle
                </label>
                <input type="number" class="material-quantity" id="desert_eagle" name="deserteagleQtd" placeholder="Quantidade">
                <label>
                    <input type="checkbox" name="item" value="Uzi" class="material-checkbox">
                    Uzi
                </label>
                <input type="number" class="material-quantity" id="uzi" name="uziQtd" placeholder="Quantidade">
                <label>
                    <input type="checkbox" name="item" value="Double tec9" class="material-checkbox">
                    Double Tec-9
                </label>
                <input type="number" class="material-quantity" id="double_tec9" name="doubletec9Qtd" placeholder="Quantidade">
                <label>
                    <input type="checkbox" name="item" value="G36C" class="material-checkbox">
                    G36C
                </label>
                <input type="number" class="material-quantity" id="g36c" name="g36cQtd" placeholder="Quantidade">
                <label>
                    <input type="checkbox" name="item" value="IMBEL" class="material-checkbox">
                    IMBEL IA2
                </label>
                <input type="number" class="material-quantity" id="imbel" name="imbelQtd" placeholder="Quantidade">
                <label>
                    <input type="checkbox" name="item" value="Ak47" class="material-checkbox">
                    AK-47
                </label>
                <input type="number" class="material-quantity" id="ak47" name="ak47Qtd" placeholder="Quantidade">
                <label>
                    <input type="checkbox" name="item" value="Mossberg" class="material-checkbox">
                    Mossberg
                </label>
                <input type="number" class="material-quantity" id="mossberg" name="mossbergQtd" placeholder="Quantidade">
                <label>
                    <input type="checkbox" name="item" value="AA12" class="material-checkbox">
                    AA12
                </label>
                <input type="number" class="material-quantity" id="aa12" name="aa12Qtd" placeholder="Quantidade">
                <label>
                    <input type="checkbox" name="item" value="Ar15" class="material-checkbox">
                    AR15
                </label>
                <input type="number" class="material-quantity" id="ar15" name="ar15Qtd" placeholder="Quantidade">
                <label>
                    <input type="checkbox" name="item" value="SG" class="material-checkbox">
                    SG
                </label>
                <input type="number" class="material-quantity" id="sg" name="sgQtd" placeholder="Quantidade">
                <label>
                    <input type="checkbox" name="item" value="M16" class="material-checkbox">
                    M16
                </label>
                <input type="number" class="material-quantity" id="m16" name="m16Qtd" placeholder="Quantidade">
                <label>
                    <input type="checkbox" name="item" value="Placa clonada" class="material-checkbox">
                    Placa Clonada
                </label>
                <input type="number" class="material-quantity" id="placa_clonada" name="placa_clonadaQtd" placeholder="Quantidade">
                <label>
                    <input type="checkbox" name="item" value="Mp5" class="material-checkbox">
                    MP5
                </label>
                <input type="number" class="material-quantity" id="mp5" name="mp5Qtd" placeholder="Quantidade">
                <label>
                    <input type="checkbox" name="item" value="Supressor" class="material-checkbox">
                    Supressor
                </label>
                <input type="number" class="material-quantity" id="supressor" name="supressorQtd" placeholder="Quantidade">
                <label>
                    <input type="checkbox" name="item" value="Molotov" class="material-checkbox">
                    Molotov
                </label>
                <input type="number" class="material-quantity" id="molotov" name="molotovQtd" placeholder="Quantidade">
                <!-- Outras caixas de sele√ß√£o para materiais -->
            </div>

            <label for="relatorio">Breve relat√≥rio da ocorr√™ncia:</label>
            <input type="text" id="relatorio" name="relatorio" required>

            <label for="imageUpload">Enviar Imagem do invent√°rio do preso</label>
            <input type="file" id="imageUpload" name="imageUpload" accept="image/*" multiple>

            <button type="submit">Enviar</button>
        </form>

        <p class="success-message" id="successMessage" style="display:none;">Relat√≥rio enviado com sucesso!</p>
        <p class="error-message" id="errorMessage" style="display:none;">Falha ao enviar o relat√≥rio. Tente novamente.</p>
    </div>
    <div id="loading" style="display: none; text-align: center;">
        <p>Carregando...</p>
        <img src="loading.gif" alt="Loading..." style="width: 50px; height: 50px;" />
    </div>

    <script>
        const form = document.getElementById('reportForm');
        const successMessage = document.getElementById('successMessage');
        const errorMessage = document.getElementById('errorMessage');
        const loginForm = document.getElementById('loginForm');
        const loginButton = document.getElementById('loginButton');
        const loginErrorMessage = document.getElementById('loginErrorMessage');
        const localizacaoSelect = document.getElementById('localizacao');
        const referenciaSelect = document.getElementById('referencia');
        const referenciaLabel = document.getElementById('referenciaLabel');
    
        const users = {
            'POK3': { nome: '<@292006349020069889>', webhook: "https://discord.com/api/webhooks/1301591187408556108/r1iYESy_p-OHK6XFRkl3fodRkO7JsHJrVkci4Ew5PjNHRBy-t95D-deQ9_e-GaPJj4z5" }, // Jason
            'ADJ1': { nome: '<@1042464970392223755>', webhook: "https://discord.com/api/webhooks/1301591187408556108/r1iYESy_p-OHK6XFRkl3fodRkO7JsHJrVkci4Ew5PjNHRBy-t95D-deQ9_e-GaPJj4z5" }, // Leal
            'ZXW7': { nome: '<@997151738337439914>', webhook: "https://discord.com/api/webhooks/1301591187408556108/r1iYESy_p-OHK6XFRkl3fodRkO7JsHJrVkci4Ew5PjNHRBy-t95D-deQ9_e-GaPJj4z5" }, // Biel Vasquez
            'FSN3': { nome: '<@1088265185174765608>', webhook: "https://discord.com/api/webhooks/1301591187408556108/r1iYESy_p-OHK6XFRkl3fodRkO7JsHJrVkci4Ew5PjNHRBy-t95D-deQ9_e-GaPJj4z5" }, // Hugo Skunk
            'ASD1': { nome: '<@530815021169508352>', webhook: "https://discord.com/api/webhooks/1301591187408556108/r1iYESy_p-OHK6XFRkl3fodRkO7JsHJrVkci4Ew5PjNHRBy-t95D-deQ9_e-GaPJj4z5" },  // Marcos Junior

            'RTY7': { nome: '<@725810834424594442>', webhook: "https://discord.com/api/webhooks/1301582326467395615/8gK_mOR9hox_ARLunv7O2locg5gnimymBmrcfWAWp6zgDVAUzYTh5e1A7fKb3h6_zbRz" }, // Arryn
            'LOK1': { nome: '<@807729422919532554>', webhook: "https://discord.com/api/webhooks/1301582371111440505/qK2l55rFHB_GTPRYgyzt8CRqUARxKEKkfYVn85ay_Qlau-s10V_m-fQjAj5BelsABx0H" }, // Gustavo Loko
            'XY2V': { nome: '<@469664301532053504>', webhook: "https://discord.com/api/webhooks/1301582418142167081/3mJ-KjtyJgKukbuhOhX4qykFo65LOSPp2zplsvFWoVSunIRXBABOvW_nvZcZEmiJd9sp" },  // Edson Sant
            'IOP2': { nome: '<@896768740253917195>', webhook: "https://discord.com/api/webhooks/1301582470101073930/CSjI8C8G_FTcxL8m7BlVoGxdvjlkmmdCjonliDtr9gflE7pqwlj5wxJ-ZVD8-oY_g-3a" }, // Erick Jhonson
            'NJW2': { nome: '<@1280910661269983313>', webhook: "https://discord.com/api/webhooks/1301582509947097098/z5b2HxLBY-5HsDjFFtGjd3XInCZNgjQuxbQLDokrrsWqyDcNcB5hhyIYk5--itTXUyGQ" }, // Llyson Sousa
            'CQW1': { nome: '<@895139818877644820>', webhook: "https://discord.com/api/webhooks/1301582555522404403/-iYw9awZBHlRtuGDYewSXz7RZxYGlQkIM5IhQQFMnEaSD1y45Lwqc4oHaJyaZTVr_iJz" }, // Medina Amaral
            'X2SD': { nome: '<@1238701523748520034>', webhook: "https://discord.com/api/webhooks/1301582589248667738/0jKVZARd5-ni5a2fo3cWKbQK4HFpuw6BXKT1HPldmAdG1phAomRzLHVy8EjChD47SB34" }, // Joninhas S. - 45777

            'TGH2': { nome: '<@978838157665636382>', webhook: "https://discord.com/api/webhooks/1301588587971743885/PumnKyRP2RrAViaOXYoMAf3H_6bVepvAngsQt6f85_Uv3W7KE3DawHyaN3ajkwiP_fLC" }, // Soldado J. Mazzunio - 30211
            'KLN1': { nome: '<@499536537520832512>', webhook: "https://discord.com/api/webhooks/1301588646629216347/ANx-D5P2C2mFxNfJQmL0PAnqArfNUH2qG-s6Wdz7ynNoWd16eodGQFbgFtbosGLTsmVo" }, // Prime - 53007
            'KJGM': { nome: '<@340282044661760000>', webhook: "https://discord.com/api/webhooks/1301588686244413462/3j1DBed5WakTFGPPs-SfFd1SXFh2AQxNIT6Gtxxs025gyQfVuKyVkfORgD6eiYSc2j7p" }, //  L. Brand√£o - 22878
            'BOP3': { nome: '<@340282044661760000>', webhook: "https://discord.com/api/webhooks/1301588731332919366/iR-qOTZjI_PLgFrbf653SM2LLhKPGktTeDtCEYIRSrdgs8O4U9vjac7xnEyYqmIh_oU9" },  // Eryk Moreira - 40453
            'RMX1': { nome: '<@1258465751971532834>', webhook: "https://discord.com/api/webhooks/1301582470101073930/CSjI8C8G_FTcxL8m7BlVoGxdvjlkmmdCjonliDtr9gflE7pqwlj5wxJ-ZVD8-oY_g-3a" }, // Erick Jhonson
            'QZW2': { nome: '<@226685502571413504>', webhook: "https://discord.com/api/webhooks/1301588901588111513/9l4fuldXBqAcso8Gb49VtZ5aQ0xFIKctpMFXeKmbGdSBX0COOGilAAuhscEZS8Bluzcu" }, // S. Souza - 1411 
            'JBP1': { nome: '<@1084985834433957938>', webhook: "https://discord.com/api/webhooks/1301588952322408601/vv9nBKyAI5GgbpxN_bv5GNKSKhYeGjELXDHFznh81xyu7jdsILPznfddOydpE9QCWFow" }, // V. Runner - 50412
            'JHGH': { nome: '<@761444242861195305>', webhook: "https://discord.com/api/webhooks/1301588993284247584/5H_DDXBux67A94kupXixGwMht72DrcrAc2bfJdJFQlpaPwdCcp3eBNAPFyp-qMQx4adx" }, // C. Berthoix - 18435
            'XNSF': { nome: '<@1135283008606326905>', webhook: "https://discord.com/api/webhooks/1301589066529112074/Bs7eawHRR6WYz6Bl7LxheXTaaBKwpAyq13C3DHtC2vnDmacZgK7IyZHa4f8IMzem3pLU" }, // M. Berthoix - 23444
            'JBP1': { nome: '<@1084985834433957938>', webhook: "https://discord.com/api/webhooks/1301589483271098449/_DV7PN1qJkVXJCJACSRJ4W4lIBY8Qemau5ck56YQ_aIvBhph9hDsRNMLb1rSHmNvUpRG" }, // V. Runner - 50412
            'MHNS': { nome: '<@934521802770751579>', webhook: "https://discord.com/api/webhooks/1301589111777394728/xLyMLFtFiuVeQmXeCsjQXoDBWqBS6zubwo4Ii9DErlAH_9NMLHcgRYV8ocQdNladaWo1" }, // A. Medellin - 24117

            'PLQ1': { nome: '<@528636374740500500>', webhook: "https://discord.com/api/webhooks/1301589652930695301/2C84lvYT-3IpBwzudFdWybuORWjCg8ZDCv73WOcJ2VW50rwHPyy8poHineuauasD_dT7" }, // Mano Adeus - 44166
            'ZFG2': { nome: '<@620769460114161667>', webhook: "https://discord.com/api/webhooks/1301589719976775742/kSiE24Q4R4eKTREULDwh0FYmFaw5A2Wa5cCmSarRDCQoPAU5lp6M2T90bz6kYHE0_KNZ" }, // Vinceratti - 1233 
            'MJGN': { nome: '<@1115867304664772648>', webhook: "https://discord.com/api/webhooks/1301589808774250568/ASNE9_qlIlOclWkYUmiRtHS9bTzd95maLsgkoWYQFjn2EUvwPCHUReSyJBirlutaqXgO" }, // M. Petrov - 50262
            'WXR1': { nome: '<@1271717956648304681>', webhook: "https://discord.com/api/webhooks/1301589861773475900/SBtzUSTk7zKIzin8JLwZRzbFNXoPPoPlkxuviQ0PkAGnW2UL9K0eau1GQOP3jIoRwRl8" },  // Puro - 54022
            'HGM4': { nome: '<@840037816377540691>', webhook: "https://discord.com/api/webhooks/1301589908028395541/g7z9xqwKfWTrXiUElPppp2i_firkFSsDHz7KOwi5yAn5WaY00nF8GxsqV0-JTmt_hDDC" },  // G. Silva - 55979
            'CNV3': { nome: '<@699006343763460106>', webhook: "https://discord.com/api/webhooks/1301589956044525658/MKop9gC-FJF4rdG35-7jrvsIBknmTJnqEmtcrhA2vtI9hSvyC-LvJpJExm2wViqTlMM7" }, // Derick Pontes 24065  
            'FRD3': { nome: '<@981008628968476743>', webhook: "https://discord.com/api/webhooks/1301590029604356240/CHd1sd1JwRDcZWG9sTL2OEJgSpcuhAJUFWgPFObwBg1WCdIMw_Jm_YxBG1_E64ewZRWL" }, // V. Agertt - 55978
            'NPK2': { nome: '<@1292301567801954442>', webhook: "https://discord.com/api/webhooks/1301590086152097792/RIhiSOcSICiWMYPL8Soom3o_5_7TmBIwJxEA7Qptsih88MfVjK-WvlsdVinu07D4L80q" }, // RobGol Bacana - 36690 
            'YQV1': { nome: '<@717805299456671836>', webhook: "https://discord.com/api/webhooks/1301590130028449834/hXua96jfcRzVssKhNOP8CVDLG-bulxc2NnItGfrin3ucGEwrP0GP0-pdCd5IYLaBff5k" }, // Daniel Vale - 15096
            // Adicione os webhooks para todos os outros usu√°rios
        };
    
        // Mapeamento de localiza√ß√µes para refer√™ncias
        const referencias = {
            'Los Santos': ['Aos arredores da Lojinha pr√≥ximo ao guetto preto', 
            'Aos arredores da garagem da praia',
            'Aos arredores da Garagem pr√≥ximo a prefeitura',
            'Aos arredores da Garagem da prefeitura',
            'Aos arredores da Garagem pr√≥ximo ao HP de LS',
            'Aos arredores do Hotel laranja',
            'Aos arredores do Posto do CJ',
            'Aos arredores da Lojinha do posto do cj',
            'Aos arredores da Cracol√¢ndia',
            'Aos arredores da Ammunation perto da praia',
            'Aos arredores do Lixeiro'
            ],
            
            'San Fierro': ['Aos arredores da Lojinha pr√≥ximo a cracolandia',
            'Aos arredores da Cracolandia',
            'Aos arredores da Garagem perto da cracolandia',
            'Aos arredores do Posto proximo a cracolandia',
            'Aos arredores da Garagem proximo a joalheria',
            'Aos arredores da Garagem proximo ao cinema',
            'Aos arredores da Garagem da antiga transportadora',
            'Aos arredores da Garagem da quadra de t√™nis'
            ],
            
            'Las Venturas': ['Aos arredores da Prefeitura',
            'Aos arredores da Lojinha ao lado da Delegacia',
            'Aos arredores da Cracol√¢ndia',
            'Aos arredores da Garagem do banco',
            'Aos arredores da Lojinha pr√≥ximo ao banco',
            'Aos arredores da Lojinha pr√≥ximo ao ped√°gio',
            'Aos arredores da Garagem da Igreja',
            'Aos arredores do Posto pr√≥ximo a DP'
            ],

            'Red County': ['Aos arredores da Lojinha pr√≥ximo ao emprego de Carniceiro',
            'Aos arredores da Garagem pr√≥ximo ao emprego de Carniceiro',
            'Aos arredores da Gar√°gem pr√≥xima a cidade do emprego de Carniceiro',
            'Aos arredores da Ammunation palomino',
            'Aos arredores da Garagem palomino'
            ],

            'Flinty County': ['Aos arredores da Cracolandia fazenda',
            'Aos arredores da Garagem do greenfarm',
            'Aos arredores da Garagem do HP ilegal'
            ],
            'Whetstone County': ['Aos arredores da Ammunation', 
            'Aos arredores da Garagem'
        ]
        };
    
        let userName = '';
        let userWebhook = '';
    
        loginButton.addEventListener('click', function() {
            const login = document.getElementById('login').value;
    
            if (users[login]) {
                userName = users[login].nome;
                userWebhook = users[login].webhook; // Armazenando o webhook do usu√°rio
                loginForm.style.display = 'none';
                form.style.display = 'block';
                loginErrorMessage.style.display = 'none';
            } else {
                loginErrorMessage.style.display = 'block';
            }
        });
    
        // Exibe o menu de refer√™ncias quando uma localiza√ß√£o √© selecionada
        localizacaoSelect.addEventListener('change', function() {
            const localizacao = localizacaoSelect.value;
            if (localizacao && referencias[localizacao]) {
                referenciaSelect.innerHTML = '';
                referencias[localizacao].forEach(ref => {
                    const option = document.createElement('option');
                    option.value = ref;
                    option.textContent = ref;
                    referenciaSelect.appendChild(option);
                });
    
                referenciaLabel.style.display = 'block';
                referenciaSelect.style.display = 'block';
            } else {
                referenciaLabel.style.display = 'none';
                referenciaSelect.style.display = 'none';
            }
        });
    
        form.addEventListener('submit', async function(e) {
            e.preventDefault();
    
            const loading = document.getElementById('loading');
            loading.style.display = 'block';
            successMessage.style.display = 'none';
    
            const qra = document.getElementById('qra').value;
            const rg = document.getElementById('rg').value;
            const detidoName = document.getElementById('detidoName').value;
            const localizacao = document.getElementById('localizacao').value;
            const referencia = document.getElementById('referencia').value;
            const relatorio = document.getElementById('relatorio').value;
            const materiais = [];
            const imageFiles = document.getElementById('imageUpload').files;
    
            // Coletar materiais e quantidades selecionadas
            document.querySelectorAll('.material-checkbox').forEach((checkbox) => {
                if (checkbox.checked) {
                    const relatedInput = document.getElementById(checkbox.value.replace(/\s+/g, '_').toLowerCase());
                    const quantidade = relatedInput.value ? relatedInput.value : 0;
                    materiais.push(`${checkbox.value}: ${quantidade}`);
                }
            });
    
            const cityWebhookMap = {
                "Los Santos": "https://discord.com/api/webhooks/1300151662677065900/OemIF8i1JiS5Exp2qoVBVEr-Mz33-_Ve3TIpVvVB6FgpKPpG__SmVKkVoj9qQCQSkZki",
                "San Fierro": "https://discord.com/api/webhooks/1300151759489990848/mm6lCkxDgVlb7-QbZb8isuhg3Z4qBDza0Utf0udXc5MpFjrBhdUW-tsB1M-WW9ELng1y",
                "Las Venturas": "https://discord.com/api/webhooks/1300151851894833234/j1F_rls6SC7sJtf97SjDSW9xaVfuvtFhc4QURcbmBKHEL2q2NZN2iwzk8YpQlxYXAZDJ",
                "Bone County": "https://discord.com/api/webhooks/1300152034233683968/cHYx0A0jcRaLzhdxa7Sp80f-H2gW9Y7bKe1Akx2EKxS-ctxc265L07UQBXTX4MuUUP5e",
                "Red County": "https://discord.com/api/webhooks/1300152134632869948/jD5wuuEtvbWRmX7ITZM1wbnlPhGBmSfIW2CE_LulmPMiaBJlnlbQt1Gyc34AE4h-_fOV",
                "Flinty County": "https://discord.com/api/webhooks/1300152228434153563/5jeeV0RbEPAqg-MK1sD0aDDEYLAPTakLVk_ZPsEZ4Ye91sz3n80cYV8IKwpcIJCBpTZR",
                "Whetstone County": "https://discord.com/api/webhooks/1300152356947890318/C1RVhxGTXgyTLODlUgK4aYDk8acB0UI5NYRsdtpvyY9BOZXr9RQ9cd4064Y96cfms9GQ",
            };
    
            const selectedCity = localizacao;
            const cityWebhook = cityWebhookMap[selectedCity];
    
            const formData = new FormData();
            formData.append('content', `# üìÇ ${userName} Realizou um novo relat√≥rio de apreens√£o\n
üëÆ **QRA:** ${qra}\n
üìù **RG do detido:** ${rg}
üìù **Nome do detido:** ${detidoName}
üåê **Localiza√ß√£o:** ${localizacao}
üìù **Refer√™ncia:** ${referencia}\n
üìù **Relat√≥rio:** ${relatorio}
    
            > üß∞ **Materiais:** \n > üß∞ ${materiais.join('\n> üß∞ ')}`);
    
            for (let i = 0; i < imageFiles.length; i++) {
                formData.append(`file${i}`, imageFiles[i]);
            }
    
            try {
                // Enviar para o webhook da cidade
                const cityResponse = await fetch(cityWebhook, {
                    method: 'POST',
                    body: formData
                });
    
                // Resetando o FormData para enviar ao webhook do usu√°rio
                formData.delete('content'); // Remove o conte√∫do j√° enviado para a cidade
                formData.append('content', `# üìÇ ${userName} Realizou um novo relat√≥rio de apreens√£o\n
üëÆ **QRA:** ${qra}\n
üìù **RG do detido:** ${rg}
üìù **Nome do detido:** ${detidoName}
üåê **Localiza√ß√£o:** ${localizacao}
üìù **Refer√™ncia:** ${referencia}\n
üìù **Relat√≥rio:** ${relatorio}
    
> üß∞ **Materiais:** \n > üß∞ ${materiais.join('\n> üß∞ ')}`);
    
                // Enviar para o webhook do usu√°rio
                const userResponse = await fetch(userWebhook, {
                    method: 'POST',
                    body: formData
                });
    
                if (cityResponse.ok && userResponse.ok) {
                    loading.style.display = 'none';
                    successMessage.style.display = 'block';
                    form.reset();
                    setTimeout(() => {
                        successMessage.style.display = 'none';
                    }, 2000);
                } else {
                    errorMessage.style.display = 'block';
                }
            } catch (error) {
                errorMessage.style.display = 'block';
            }
    
        });
    
        // Exibir campos de quantidade de materiais
        const materialCheckboxes = document.querySelectorAll('.material-checkbox');
        materialCheckboxes.forEach((checkbox) => {
            checkbox.addEventListener('change', function() {
                const relatedInput = document.getElementById(checkbox.value.replace(/\s+/g, '_').toLowerCase());
                if (checkbox.checked) {
                    relatedInput.style.display = 'block';
                } else {
                    relatedInput.style.display = 'none';
                }
            });
        });
    </script>
    
</body>
</html>
